<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2048</title>
    
    <style>
        body {
            position: fixed;
        }
        #screen {
            background-color: rgb(0, 0, 0);
            width: 345px;
            height: 350px;
            border: 3px solid rgb(0, 0, 0);
            border-radius: 15px;
            display: inline-block;
        }

        .tile {
            width: 65px;
            height: 50px;
            display: inline-block;
            background-color: rgb(117, 100, 82);
            margin: 2px;
            padding-top: 17px;
            border-radius: 10px;
            text-align: center;
            font-size: 25px;
            position: inherit;
            vertical-align: middle;
            color: black;


        }

        .row {
            display: block;
            width: 350px;
            height: 65px;
            margin-bottom: 5px;
        }
        
    #brow {
        width: 150px;
        height: 50px;
        margin-top: 0px;
  padding: 15px;
  font-size: 22px;
  text-transform: uppercase;
  letter-spacing: 2.5px;
  font-weight: 500;
  color: #000000;
  background-color: #36b6ed;
  border: none;
  border-radius: 45px;
  box-shadow: 0px 8px 15px rgba(0, 0, 0, 0.1);
  transition: all 0.3s ease 0s;
  cursor: pointer;
  outline: none;
  display: inline;
  margin: 30px;
}

#brow:hover {
  background-color: #23c483;
  box-shadow: 0px 15px 20px rgba(46, 229, 157, 0.4);
  color: #fff;
  transform: translateY(-7px);
}

#brow:active {
  transform: translateY(-1px);
  visibility: hidden;
}

.diff {
 width: 90px;
 height: 30px;
 border-radius: 30em;
 font-size: 15px;
 font-family: inherit;
 border: none;
 position: relative;
 overflow: hidden;
 z-index: 1;
 box-shadow: 6px 6px 12px #c5c5c5,
             -6px -6px 12px #ffffff;
}

.diff::before {
 content: '';
 width: 0;
 height: 3em;
 border-radius: 30em;
 position: absolute;
 top: 0;
 left: 0;
 transition: .5s ease;
 display: inline;
 z-index: -1;
}

.diff:hover::before {
 width: 9em;
 transform: translateY(-1px);

}

#easy::before{
    background-image: linear-gradient(to right, #0fd850 0%, #61995c 100%);

}
#medeum::before{
    background-image: linear-gradient(to right, #d8b30f 0%, #f9f047 100%);

}
#hard::before{
    background-image: linear-gradient(to right, #d8840f 0%, #f95c47 100%);

}
.pro {
    display: block;
}

    </style>
</head>
<body>
    <div id="screen"></div>

    <h1>2048, but tiles spawn all the time</h1>
    <p1 class="pro">Made by Baphael Renaim</p1>

    <script>

        let cho = ''
            let board = [[4, 2, 0, 0, 0], [4, 0, 8, 0, 0], [2, 2, 0, 0, 0], [4, 0, 2, 0, 0], [4, 0, 4, 0, 0]]

            function make_board(){
            for(let i = 0; i < 5; i++){
            let new_guy = document.createElement("div");
            let ene = document.getElementById("screen");
            new_guy.classList.add("row")
            ene.appendChild(new_guy);
            
            for(let j = 0; j < 5; j ++){
                let new_new_guy = document.createElement("div")
                new_new_guy.id = i.toString() + "and" + j.toString()
                new_new_guy.innerHTML = board[i][j].toString()
                new_new_guy.classList.add("tile")
                new_guy.appendChild(new_new_guy)
                colors(i, j)
            }
        }
        }


        function colors(i, j) {
            if(board[i][j] == 0){
                document.getElementById(i.toString() + "and" + j.toString()).style.backgroundColor = 'rgb(117, 100, 82)'
                document.getElementById(i.toString() + "and" + j.toString()).innerHTML = ' '
            }
            if(board[i][j] == 2){
                document.getElementById(i.toString() + "and" + j.toString()).style.backgroundColor = '#ff9999'

            }
            if(board[i][j] == 4){
                document.getElementById(i.toString() + "and" + j.toString()).style.backgroundColor = '#ffcc99'

            }
            if(board[i][j] == 8){
                document.getElementById(i.toString() + "and" + j.toString()).style.backgroundColor = '#ffff99'

            }
            if(board[i][j] == 16){
                document.getElementById(i.toString() + "and" + j.toString()).style.backgroundColor = '#ccff99'

            }
            if(board[i][j] == 32){
                document.getElementById(i.toString() + "and" + j.toString()).style.backgroundColor = '#99ffcc'

            }
            if(board[i][j] == 64){
                document.getElementById(i.toString() + "and" + j.toString()).style.backgroundColor = '#99ffff'

            }
            if(board[i][j] == 128){
                document.getElementById(i.toString() + "and" + j.toString()).style.backgroundColor = '#99b3ff'

            }
            if(board[i][j] == 256){
                document.getElementById(i.toString() + "and" + j.toString()).style.backgroundColor = '#b399ff'

            }
            if(board[i][j] == 512){
                document.getElementById(i.toString() + "and" + j.toString()).style.backgroundColor = '#e699ff'

            }
            if(board[i][j] == 1024){
                document.getElementById(i.toString() + "and" + j.toString()).style.backgroundColor = '#ff99b3'

            }
            if(board[i][j] == 2048){
                document.getElementById(i.toString() + "and" + j.toString()).style.backgroundColor = '#ff9999'

            }
            if(board[i][j] == 4096){
                document.getElementById(i.toString() + "and" + j.toString()).style.backgroundColor = '#d1c7cc'

            }
        }





        make_board()




        function play(){



            let board = [[4, 2, 0, 0, 0], [4, 0, 8, 0, 0], [2, 2, 0, 0, 0], [4, 0, 2, 0, 0], [4, 0, 4, 0, 0]]
        
        
        function make_board(){
            for(let i = 0; i < 5; i++){
            let new_guy = document.createElement("div");
            let ene = document.getElementById("screen");
            new_guy.classList.add("row")
            ene.appendChild(new_guy);
            
            for(let j = 0; j < 5; j ++){
                let new_new_guy = document.createElement("div")
                new_new_guy.id = i.toString() + "and" + j.toString()
                new_new_guy.innerHTML = board[i][j].toString()
                new_new_guy.classList.add("tile")
                new_guy.appendChild(new_new_guy)
                colors(i, j)
            }
        }
        }
        
        
        function colors(i, j) {
            if(board[i][j] == 0){
                document.getElementById(i.toString() + "and" + j.toString()).style.backgroundColor = 'rgb(117, 100, 82)'
                document.getElementById(i.toString() + "and" + j.toString()).innerHTML = ' '
            }
            if(board[i][j] == 2){
                document.getElementById(i.toString() + "and" + j.toString()).style.backgroundColor = '#ff9999'

            }
            if(board[i][j] == 4){
                document.getElementById(i.toString() + "and" + j.toString()).style.backgroundColor = '#ffcc99'

            }
            if(board[i][j] == 8){
                document.getElementById(i.toString() + "and" + j.toString()).style.backgroundColor = '#ffff99'

            }
            if(board[i][j] == 16){
                document.getElementById(i.toString() + "and" + j.toString()).style.backgroundColor = '#ccff99'

            }
            if(board[i][j] == 32){
                document.getElementById(i.toString() + "and" + j.toString()).style.backgroundColor = '#99ffcc'

            }
            if(board[i][j] == 64){
                document.getElementById(i.toString() + "and" + j.toString()).style.backgroundColor = '#99ffff'

            }
            if(board[i][j] == 128){
                document.getElementById(i.toString() + "and" + j.toString()).style.backgroundColor = '#99b3ff'

            }
            if(board[i][j] == 256){
                document.getElementById(i.toString() + "and" + j.toString()).style.backgroundColor = '#b399ff'

            }
            if(board[i][j] == 512){
                document.getElementById(i.toString() + "and" + j.toString()).style.backgroundColor = '#e699ff'

            }
            if(board[i][j] == 1024){
                document.getElementById(i.toString() + "and" + j.toString()).style.backgroundColor = 'hotpink'

            }
            if(board[i][j] == 2048){
                document.getElementById(i.toString() + "and" + j.toString()).style.backgroundColor = 'purple'

            }
            if(board[i][j] == 4096){
                document.getElementById(i.toString() + "and" + j.toString()).style.backgroundColor = 'maroon'

            }
        }

        function refresh_board(){
            for(let i = 0; i < 5; i ++){
                for(let j = 0; j < 5; j ++){
                    document.getElementById(i.toString() + "and" + j.toString()).innerHTML = board[i][j]
                    colors(i, j)

                }
            }
        }
        let items = [0, 1, 2, 3, 4]
        let things = [2, 2, 2, 2, 2, 2, 4, 4]


        document.addEventListener('touchstart', handleTouchStart, false);        
document.addEventListener('touchmove', handleTouchMove, false);

var xDown = null;                                                        
var yDown = null;

function getTouches(evt) {
  return evt.touches ||             // browser API
         evt.originalEvent.touches; // jQuery
}                                                     
                                                                         
function handleTouchStart(evt) {
    const firstTouch = getTouches(evt)[0];                                      
    xDown = firstTouch.clientX;                                      
    yDown = firstTouch.clientY;                                      
};                                                
                                                                         
function handleTouchMove(evt) {
    if ( ! xDown || ! yDown ) {
        return;
    }

    var xUp = evt.touches[0].clientX;                                    
    var yUp = evt.touches[0].clientY;

    var xDiff = xDown - xUp;
    var yDiff = yDown - yUp;
                                                                         
    if ( Math.abs( xDiff ) > Math.abs( yDiff ) ) {/*most significant*/
        if ( xDiff < 0 ) {
            for(let tim = 0; tim <6; tim ++){
                        for(let j = 4; j > -1; j --){
                            for(let i = 0; i < 5; i ++){
                                if(board[i][j] !== 0){
                                    if(board[i][j+1] == 0) {
                                        board[i][j+1] = board[i][j]
                                        board[i][j] = 0
                                        refresh_board()

                                    }
                                }
                                colors(i, j)
                            }
                        }

                    }
                    refresh_board()

                    for(let j = 4; j > -1; j --){
                        for(let i = 0; i < 5; i ++){
                            if(board[i][j] >= 1){
                                if(board[i][j+1] - board[i][j] == 0){

                                    board[i][j+1] *= 2
                                    board[i][j] = 0

                                    refresh_board()
                                    colors(i, j)

                                    
                                }
                            }
                        }
                    }
                    refresh_board()

                    for(let tim = 0; tim <6; tim ++){
                        for(let j = 4; j > -1; j --){
                            for(let i = 0; i < 5; i ++){
                                if(board[i][j] !== 0){
                                    if(board[i][j+1] == 0) {
                                        board[i][j+1] = board[i][j]
                                        board[i][j] = 0
                                        refresh_board()

                                    }
                                }
                                colors(i, j)
                            }
                        }

                    }

                    refresh_board()


                    

 
        } else {
            for(let tim = 0; tim <6; tim ++){
                            for(let j = 0; j < 5; j ++){
                                for(let i = 0; i < 5; i ++){
                                    if(board[i][j] !== 0){
                                        if(board[i][j-1] == 0) {
                                            board[i][j-1] = board[i][j]
                                            board[i][j] = 0
                                        }
                                    }
                                    colors(i, j)
                                }
                            }

                        refresh_board()
                        }

                        for(let j = 0; j < 5; j ++){
                                for(let i = 0; i < 5; i ++){
                                    if(board[i][j] !== 0){
                                        if(board[i][j-1] == board[i][j]) {
                                            board[i][j-1] = board[i][j] + board[i][j]
                                            board[i][j] = 0
                                            colors(i, j)
                                            refresh_board()

                                    }
                                }
                                colors(i, j)
                            }
                        }

                        for(let tim = 0; tim <6; tim ++){
                            for(let j = 0; j < 5; j ++){
                                for(let i = 0; i < 5; i ++){
                                    if(board[i][j] !== 0){
                                        if(board[i][j-1] == 0) {
                                            board[i][j-1] = board[i][j]
                                            board[i][j] = 0
                                        }
                                    }
                                    colors(i, j)
                                }


                            }

                        refresh_board()
                        }

        }                       
    } else {
        if ( yDiff < 0 ) {
            for(let tim = 0; tim <6; tim ++){
                        for(let j = 4; j > -1; j --){
                            for(let i = 0; i < 5; i ++){
                                if(board[i][j] !== 0){
                                    if(i !== 4 && board[i+1][j+0] == 0) {
                                        board[i+1][j+0] = board[i][j]
                                        board[i][j] = 0
                                    }
                                }
                                colors(i, j)
                            }
                        }

                    refresh_board()
                    }

                    for(let i = 4; i > -1; i --){
                            for(let j = 0; j < 5; j ++){
                                if(board[i][j] !== 0){
                                    if(i !== 4 && board[i+1][j+0] == board[i][j]) {
                                        board[i+1][j+0] = board[i][j] + board[i][j]
                                        board[i][j] = 0
                                    }
                                }
                                colors(i, j)
                            }
                        }

                    for(let tim = 0; tim <6; tim ++){
                        for(let j = 4; j > -1; j --){
                            for(let i = 0; i < 5; i ++){
                                if(board[i][j] !== 0){
                                    if(i !== 4 && board[i+1][j+0] == 0) {
                                        board[i+1][j+0] = board[i][j]
                                        board[i][j] = 0
                                    }
                                }
                                colors(i, j)
                            }

                        }

                    refresh_board()
                    }
        } else { 
            for(let tim = 0; tim <6; tim ++){
                        for(let i = 0; i < 5; i ++){
                            for(let j = 0; j < 5; j ++){
                                if(board[i][j] !== 0){
                                    if(i !== 0 && board[i-1][j+0] == 0) {
                                        board[i-1][j+0] = board[i][j]
                                        board[i][j] = 0
                                    }
                                }
                                colors(i, j)

                            }
                        }

                    refresh_board()
                    }

                    for(let i = 0; i < 5; i ++){
                            for(let j = 0; j < 5; j ++){
                                if(board[i][j] !== 0){
                                    if(i !== 0 && board[i-1][j+0] == board[i][j]) {
                                        board[i-1][j+0] = board[i][j] + board[i][j]
                                        board[i][j] = 0
                                    }
                                }
                                colors(i, j)

                            }
                        }



                    for(let tim = 0; tim <6; tim ++){
                        for(let i = 0; i < 5; i ++){
                            for(let j = 0; j < 5; j ++){
                                if(board[i][j] !== 0){
                                    if(i !== 0 && board[i-1][j+0] == 0) {
                                        board[i-1][j+0] = board[i][j]
                                        board[i][j] = 0
                                    }
                                }
                                colors(i, j)

                            }
                        }

                    refresh_board()
                    }
        }                                                                 
    }
    /* reset values */
    xDown = null;
    yDown = null;                                             
};


        document.onkeydown = function (e) {
            switch (e.keyCode) {
                case 39:

                    for(let tim = 0; tim <6; tim ++){
                        for(let j = 4; j > -1; j --){
                            for(let i = 0; i < 5; i ++){
                                if(board[i][j] !== 0){
                                    if(board[i][j+1] == 0) {
                                        board[i][j+1] = board[i][j]
                                        board[i][j] = 0
                                        refresh_board()

                                    }
                                }
                                colors(i, j)
                            }
                        }

                    }
                    refresh_board()

                    for(let j = 4; j > -1; j --){
                        for(let i = 0; i < 5; i ++){
                            if(board[i][j] >= 1){
                                if(board[i][j+1] - board[i][j] == 0){

                                    board[i][j+1] *= 2
                                    board[i][j] = 0

                                    refresh_board()
                                    colors(i, j)

                                    
                                }
                            }
                        }
                    }
                    refresh_board()

                    for(let tim = 0; tim <6; tim ++){
                        for(let j = 4; j > -1; j --){
                            for(let i = 0; i < 5; i ++){
                                if(board[i][j] !== 0){
                                    if(board[i][j+1] == 0) {
                                        board[i][j+1] = board[i][j]
                                        board[i][j] = 0
                                        refresh_board()

                                    }
                                }
                                colors(i, j)
                            }
                        }

                    }

                    refresh_board()


                    


                    break;
                case 38:


                    for(let tim = 0; tim <6; tim ++){
                        for(let i = 0; i < 5; i ++){
                            for(let j = 0; j < 5; j ++){
                                if(board[i][j] !== 0){
                                    if(i !== 0 && board[i-1][j+0] == 0) {
                                        board[i-1][j+0] = board[i][j]
                                        board[i][j] = 0
                                    }
                                }
                                colors(i, j)

                            }
                        }

                    refresh_board()
                    }

                    for(let i = 0; i < 5; i ++){
                            for(let j = 0; j < 5; j ++){
                                if(board[i][j] !== 0){
                                    if(i !== 0 && board[i-1][j+0] == board[i][j]) {
                                        board[i-1][j+0] = board[i][j] + board[i][j]
                                        board[i][j] = 0
                                    }
                                }
                                colors(i, j)

                            }
                        }



                    for(let tim = 0; tim <6; tim ++){
                        for(let i = 0; i < 5; i ++){
                            for(let j = 0; j < 5; j ++){
                                if(board[i][j] !== 0){
                                    if(i !== 0 && board[i-1][j+0] == 0) {
                                        board[i-1][j+0] = board[i][j]
                                        board[i][j] = 0
                                    }
                                }
                                colors(i, j)

                            }
                        }

                    refresh_board()
                    }


                    break;
                case 37:

                    for(let tim = 0; tim <6; tim ++){
                            for(let j = 0; j < 5; j ++){
                                for(let i = 0; i < 5; i ++){
                                    if(board[i][j] !== 0){
                                        if(board[i][j-1] == 0) {
                                            board[i][j-1] = board[i][j]
                                            board[i][j] = 0
                                        }
                                    }
                                    colors(i, j)
                                }
                            }

                        refresh_board()
                        }

                        for(let j = 0; j < 5; j ++){
                                for(let i = 0; i < 5; i ++){
                                    if(board[i][j] !== 0){
                                        if(board[i][j-1] == board[i][j]) {
                                            board[i][j-1] = board[i][j] + board[i][j]
                                            board[i][j] = 0
                                            colors(i, j)
                                            refresh_board()

                                    }
                                }
                                colors(i, j)
                            }
                        }

                        for(let tim = 0; tim <6; tim ++){
                            for(let j = 0; j < 5; j ++){
                                for(let i = 0; i < 5; i ++){
                                    if(board[i][j] !== 0){
                                        if(board[i][j-1] == 0) {
                                            board[i][j-1] = board[i][j]
                                            board[i][j] = 0
                                        }
                                    }
                                    colors(i, j)
                                }


                            }

                        refresh_board()
                        }

                    break;
                case 40:
                for(let tim = 0; tim <6; tim ++){
                        for(let j = 4; j > -1; j --){
                            for(let i = 0; i < 5; i ++){
                                if(board[i][j] !== 0){
                                    if(i !== 4 && board[i+1][j+0] == 0) {
                                        board[i+1][j+0] = board[i][j]
                                        board[i][j] = 0
                                    }
                                }
                                colors(i, j)
                            }
                        }

                    refresh_board()
                    }

                    for(let i = 4; i > -1; i --){
                            for(let j = 0; j < 5; j ++){
                                if(board[i][j] !== 0){
                                    if(i !== 4 && board[i+1][j+0] == board[i][j]) {
                                        board[i+1][j+0] = board[i][j] + board[i][j]
                                        board[i][j] = 0
                                    }
                                }
                                colors(i, j)
                            }
                        }

                    for(let tim = 0; tim <6; tim ++){
                        for(let j = 4; j > -1; j --){
                            for(let i = 0; i < 5; i ++){
                                if(board[i][j] !== 0){
                                    if(i !== 4 && board[i+1][j+0] == 0) {
                                        board[i+1][j+0] = board[i][j]
                                        board[i][j] = 0
                                    }
                                }
                                colors(i, j)
                            }

                        }

                    refresh_board()
                    }
                    break;
            }
        };



        function make_new(){
            let po = [Math.floor(Math.random() * 5)]
            let mo = [Math.floor(Math.random() * 5)]
            if (board[po][mo] == 0){
                board[po][mo] = things[Math.floor(Math.random() * 7)]
                refresh_board()
            } else {
                 po = [Math.floor(Math.random() * 5)]
                 mo = [Math.floor(Math.random() * 5)]
                if (board[po][mo] == 0){
                    board[po][mo] = things[Math.floor(Math.random() * 7)]
                } else {
                    po = [Math.floor(Math.random() * 5)]
                 mo = [Math.floor(Math.random() * 5)]
                if (board[po][mo] == 0){
                    board[po][mo] = things[Math.floor(Math.random() * 7)]
                } else {
                    po = [Math.floor(Math.random() * 5)]
                 mo = [Math.floor(Math.random() * 5)]
                if (board[po][mo] == 0){
                    board[po][mo] = things[Math.floor(Math.random() * 7)]
                } else {
                    po = [Math.floor(Math.random() * 5)]
                 mo = [Math.floor(Math.random() * 5)]
                if (board[po][mo] == 0){
                    board[po][mo] = things[Math.floor(Math.random() * 7)]
                } else {
                    po = [Math.floor(Math.random() * 5)]
                 mo = [Math.floor(Math.random() * 5)]
                if (board[po][mo] == 0){
                    board[po][mo] = things[Math.floor(Math.random() * 7)]
                } else {
                    po = [Math.floor(Math.random() * 5)]
                 mo = [Math.floor(Math.random() * 5)]
                if (board[po][mo] == 0){
                    board[po][mo] = things[Math.floor(Math.random() * 7)]
                } else {
                    po = [Math.floor(Math.random() * 5)]
                 mo = [Math.floor(Math.random() * 5)]
                if (board[po][mo] == 0){
                    board[po][mo] = things[Math.floor(Math.random() * 7)]
                } else {
                    po = [Math.floor(Math.random() * 5)]
                 mo = [Math.floor(Math.random() * 5)]
                if (board[po][mo] == 0){
                    board[po][mo] = things[Math.floor(Math.random() * 7)]
                } else {
                    po = [Math.floor(Math.random() * 5)]
                 mo = [Math.floor(Math.random() * 5)]
                if (board[po][mo] == 0){
                    board[po][mo] = things[Math.floor(Math.random() * 7)]
                } else {
                    po = [Math.floor(Math.random() * 5)]
                 mo = [Math.floor(Math.random() * 5)]
                if (board[po][mo] == 0){
                    board[po][mo] = things[Math.floor(Math.random() * 7)]
                } else {
                    po = [Math.floor(Math.random() * 5)]
                 mo = [Math.floor(Math.random() * 5)]
                if (board[po][mo] == 0){
                    board[po][mo] = things[Math.floor(Math.random() * 7)]
                } else {
                    po = [Math.floor(Math.random() * 5)]
                 mo = [Math.floor(Math.random() * 5)]
                if (board[po][mo] == 0){
                    board[po][mo] = things[Math.floor(Math.random() * 7)]
                } else {
                    po = [Math.floor(Math.random() * 5)]
                 mo = [Math.floor(Math.random() * 5)]
                if (board[po][mo] == 0){
                    board[po][mo] = things[Math.floor(Math.random() * 7)]
                } else {

                }
                }
                }
                }
                }
                }
                }
                }
                }
                }
                }
                }
                }
            }
            refresh_board()

        }



        if(cho == 'easy'){
            setInterval(make_new, 500)
        } else if(cho == 'medeum'){
            setInterval(make_new, 200)
        } else if(cho == 'hard'){
            setInterval(make_new, 100)
        } else {
            setInterval(make_new, 400)

        }

        setInterval(refresh_board, 1000)
        
        }


    </script>


    <button onclick="
    play()
    document.getElementById('brow').style.visibility = 'hidden'
    document.getElementById('easy').style.visibility = 'hidden'
    document.getElementById('medeum').style.visibility = 'hidden'
    document.getElementById('hard').style.visibility = 'hidden'

    " class="playButton" id="brow">Play</button>


    <div>
        <button class='diff' id="easy" onclick="
            cho = 'easy'
            ">Easy</button>
        <button class='diff' id="medeum" onclick='
        cho = "medeum"
        '>Medeum</button>
        <button class='diff' id="hard" onclick='
        cho = "hard"
        '>Hard</button>

    </div>
</body>
</html>